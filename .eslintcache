[{"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/index.js":"1","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/App.js":"2","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Navigation.js":"3","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/SubmissionPages.js":"4","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/People.js":"5","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/LandingPage.js":"6","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Events.js":"7","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Buttons.js":"8","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Search.js":"9","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Forms.js":"10"},{"size":988,"mtime":1608153756360,"results":"11","hashOfConfig":"12"},{"size":4274,"mtime":1608184125110,"results":"13","hashOfConfig":"12"},{"size":1962,"mtime":1608175143264,"results":"14","hashOfConfig":"12"},{"size":585,"mtime":1608184161784,"results":"15","hashOfConfig":"12"},{"size":4024,"mtime":1608184374985,"results":"16","hashOfConfig":"12"},{"size":1004,"mtime":1608170710187,"results":"17","hashOfConfig":"12"},{"size":6381,"mtime":1608184531109,"results":"18","hashOfConfig":"12"},{"size":1976,"mtime":1608170710185,"results":"19","hashOfConfig":"12"},{"size":1122,"mtime":1607996276345,"results":"20","hashOfConfig":"12"},{"size":4881,"mtime":1608184724951,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"c7jwox",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/index.js",[],["44","45"],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/App.js",["46","47"],"import React, {useState, useEffect} from 'react';\nimport './CSS/App.css';\nimport {NavBar, Footer} from './components/Navigation.js'\nimport {EventsIndividualPage, EventsMainPage} from './components/Events.js'\nimport { Route, Switch, Redirect} from 'react-router-dom';\nimport {PeopleList, PeopleDetails} from './components/People.js'\nimport firebase from 'firebase';\nimport { LandingPage } from './components/LandingPage.js';\nimport {EventSubmission, EditProfile} from './components/SubmissionPages.js';\n//import 'font-awesome/css/font-awesome.css';\n\n\nconst uiConfig = {\n  signInOptions: [\n    {\n      provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\n      requireDisplayName: true\n    },\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID\n  ],\n  credentialHelper: 'none',\n  signInFlow: 'popup',\n  callbacks: {\n    signInSuccessWithAuthResult: () => false,\n  },\n\n};\n\nfunction App(props) {\n\n\n  // Firebase state\n\n  const[user, setUser] = useState(undefined);\n  const [isLoading, setIsLoading] = useState(true);\n \n  \n  //auth state event listener\n  useEffect( () => { //run after component loads\n    //listen to the the authentication state\n    const authUnregisterFunction = firebase.auth().onAuthStateChanged((firebaseUser) =>{\n      if(firebaseUser){\n        setUser(firebaseUser);\n        setIsLoading(false);\n        if(firebaseUser && firebaseUser.metadata.creationTime === firebaseUser.metadata.lastSignInTime) {\n          const newPerson = {\n            fname: user.displayName.substr(0, user.displayName.indexOf(' ')),\n            lname: user.displayName.substr(user.displayName.indexOf(' ')+1, user.displayName.length),\n            major: \"-\",\n            interest: \"-\",\n            year: \"-\",\n            email: user.email,\n            bio: \"-\",\n            image: \"images/avatar.png\"\n          }\n          firebase.database().ref('people').push(newPerson);\n        }\n      }else{ //not defined, logged out\n        setUser(null)\n      }\n    })\n\n    return function cleanup() {\n      authUnregisterFunction();\n    }\n  }, []) //only run hook on first load\n\n  const [peopleArray, setPeople] = useState([]);\n\n\n  useEffect(() => {\n    const peopleRef = firebase.database().ref(\"people\");\n    peopleRef.on(\"value\", (snapshot) => {\n      const peopleObjects = snapshot.val();\n      let peopleKeyArray = Object.keys(peopleObjects);\n      console.log()\n      let peopleArray = peopleKeyArray.map((key) => {\n        let singlePeopleObject = peopleObjects[key];\n        singlePeopleObject.key = key;\n        \n        return singlePeopleObject;\n      })\n      setPeople(peopleArray);\n    \n    })\n  }, [])\n  \n  let content = null;\n\n  /*\n  if(isLoading){\n    return(\n    <div className=\"text-center\">\n      <i className=\"fa fa-spinner fa-spin fa-3x\"></i>\n    </div>\n    ) \n  }\n*/\n\n\n  //Log in page\n  if(!user){\n    content = (\n      <LandingPage uiConfig={uiConfig} />\n      \n    )\n\n  // Home page + rest of page\n  }else{\n    content =(\n      <div>\n        <nav>\n          <NavBar />\n        </nav>\n\n        <main>\n          <div className=\"container\">\n            <Switch>\n              <Route exact path=\"/people\" render={(routerProps) => (\n              <PeopleList {...routerProps} user={user} peopleArray={peopleArray} ></PeopleList>\n              )} />\n\n              <Route exact path=\"/\" render={(routerProps) => (\n              <EventsMainPage {...routerProps}  ></EventsMainPage>\n            )} />\n\n              <Route path=\"/submit-event\" render={() => (\n              <EventSubmission />\n              )}/>\n\n              <Route path=\"/event/:eventName\" render={(routerProps) => (\n              <EventsIndividualPage {...routerProps} ></EventsIndividualPage>\n              )}/>\n\n              <Route path=\"/people-edit\" render={() => (\n              <EditProfile user={user} peopleArray={peopleArray}></EditProfile>\n              )}/>\n\n              <Route path=\"/people/:fullname\" render={(routerProps) => (\n              <PeopleDetails {...routerProps} peopleArray={peopleArray}></PeopleDetails>\n              )}/>\n              \n              <Redirect to=\"/\" />\n            </Switch>\n          </div>\n          \n        </main>\n\n        <footer>\n          <Footer />\n        </footer>\n\n    </div>\n \n\n    )\n  }\n  return (\n   content\n  );\n}\n\nexport default App;\n","/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Navigation.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/SubmissionPages.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/People.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/LandingPage.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Events.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Buttons.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Search.js",[],"/Users/vishankrughwani/Desktop/UW/Fall_2020/INFO_340/project-2-vishankrug/src/components/Forms.js",["48"],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":35,"column":10,"nodeType":"55","messageId":"56","endLine":35,"endColumn":19},{"ruleId":"57","severity":1,"message":"58","line":66,"column":6,"nodeType":"59","endLine":66,"endColumn":8,"suggestions":"60"},{"ruleId":"53","severity":1,"message":"61","line":1,"column":16,"nodeType":"55","messageId":"56","endLine":1,"endColumn":24},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"no-unused-vars","'isLoading' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'user.displayName' and 'user.email'. Either include them or remove the dependency array.","ArrayExpression",["64"],"'useState' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"65","fix":"66"},"Update the dependencies array to be: [user.displayName, user.email]",{"range":"67","text":"68"},[2031,2033],"[user.displayName, user.email]"]